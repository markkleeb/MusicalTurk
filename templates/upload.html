{% extends "layout/main.html" %}




{% block body %}



	<div class="frame">
	<div class="row">
		
		<div class="span3">
		    {% if form.errors %}
		    <ul class="errors">
		        {% for field_name, field_errors in form.errors|dictsort if field_errors %}
		            {% for error in field_errors %}
		                <li class="alert alert-error">
		                	{{ form[field_name].label.text }} - {{ error }}
		               	</li>
		            {% endfor %}
		        {% endfor %}
		    </ul>
		    {% endif %}

		    
		   
			<form method="POST" enctype="multipart/form-data">
				
				Title
				{{ form.title }}
			</div>
			<div class="span3">

				Your Name
				{{ form.postedby }}
			</div>
			<div class="span3">
				
				<div class="row">
					<div class="span2">
					Type:
				</div>
			</div>
				<div class="row">

			<div class="span1" style="text-align:left;">

				<input type="radio" name="tag" value="loops"><div class="mousetext">Loop</div>
				<br/>
				<input type="radio" name="tag" value="beats"><div class="mousetext">Beat</div>
				</div>
				<div class="span2" style="text-align:left;">
				<input type="radio" name="tag" value="atmosphere"><div class="mousetext">Ambiance</div>
				<br />
				<input type="radio" name="tag" value="hits"><div class="mousetext">Hit</div>

			</div>
		</div>
	</div>
	<div class="row">
				<div class="span3">
				
				{{ form.fileupload }}
			</div>
				<div class="span1">
				<input type="submit" value="upload">
</div>

			</form>
		</div>
	</div>

	<br />
	<br />
	
	
	<div class="span10 offset1">
			
			{% for song in songs %}
			<div class="entry">
				<div class="row">
				<div class="span 6 offset2">
					{{ song.postedby }} - {{ song.title }}  
					</div>
				</div>
					<div class="row">
					<div class="span4">
					<audio src="https://s3.amazonaws.com/megaphonosizer/{{ song.filename }}" preload="auto" />
					</div>
					<div class="span4">
						<div class="row">
							<div class="span2 offset2">
					<div id="tag" class=" {{song.tag }}">{{ song.tag }} </span>
					</div>
					</div>
					</div>
						<div class="row">
						<div class="span2 offset2">
						<a class="download" href="https://s3.amazonaws.com/megaphonosizer/{{ song.filename }}">download</a>
						</div>
					</div>
					</div>
				</div>
				</div>
				<!--<a href="/delete/{{ song.id }}" class="btn btn-small btn-danger">delete</a>-->
				
			{% endfor %}
	</div>
	</div>


		<div class="span4">
		    {% if form.errors %}
		    <ul class="errors">
		        {% for field_name, field_errors in form.errors|dictsort if field_errors %}
		            {% for error in field_errors %}
		                <li class="alert alert-error">
		                	{{ form[field_name].label.text }} - {{ error }}
		               	</li>
		            {% endfor %}
		        {% endfor %}
		    </ul>
		    {% endif %}

		    



	</div><!-- row -->
</div>


				<div class="hidden"> 
		   		<li>Key of C Major or A Minor</li>
		   		<li>120 Beats Per Minute</li>
		   		<li>10-30 seconds</li>
		   		<li>mp3 or wav format</li>
				</div>

				<div class="hidden"> 
			
		   		<li>Percussive loops</li>
		   		<li>120 Beats Per Minute</li>
		   		<li>10-30 Seconds</li>
		   		<li>mp3 or wav format</li>
				
				</div>

				<div class="hidden">
		
		    	<li>Field Recordings</li>
		    	<li>Non-melodic or arhythmic patterns</li>
		    	<li>30 to 60 seconds</li>
		    	<li>mp3 or wav format</li>
		   
		    	</div>

		    	<div class="hidden">
	
		    	<li>Short percussive hits</li>
		    	<li>1-3 seconds</li>
		    	<li>mp3 or wav format</li>
		  
		    	</div>


<script>

$(document).mousemove(function(e){
$('.mousetext').on('mouseover', function(){
	var tagIndex = $('.mousetext').index(this)
console.log(tagIndex)
$('.hidden').eq(tagIndex).show().css({position: 'absolute', top: e.pageY, left : e.pageX+10 })
}).on('mouseout', function(){
	var tagIndex = $('.mousetext').index(this)
$('.hidden').eq(tagIndex).hide()
})
})
</script>

{% endblock %}

{% block scripts %}{% endblock %}